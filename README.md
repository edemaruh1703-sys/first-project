# Системный монитор

## Общее описание

**«Системный монитор»** помогает посмотреть, что происходит в системе и как она загружена. В ней можно увидеть, какие процессы работают, сколько ресурсов они занимают и как используется основное оборудование — процессор, память, подкачка и сеть. Программа позволяет настраивать вид представления данных и создавать собственные вкладки с графиками и таблицами.

Запуск программы выполняется одним из трех способов:
- Через меню приложений в разделе «Параметры → Система», выбрав соответствующий пункт «Системный монитор»;
- Из терминала, выполнив команду ksysguard;
- Путем зажатия клавиш `Ctrl+Alt+Del` или `Alt+Ctrl+KP_Delete`.

После запуска откроется окно программы (рис.1), содержащее несколько основных областей:
- Строка меню;
- Предустановленные панели инструментов;
- Панель с вкладками;
- Рабочая панель;
- Строка состояния в нижней части окна.

![Рис. 1](https://github.com/edemaruh1703-sys/first-project/blob/main/Screenshot_3.png?raw=true "Рис. 1")
<div align="Center">Рис. 1</div>


По умолчанию открываются вкладки с таблицей процессов и общей загрузкой системы.

## Управление процессами

Функция управления процессами в «Системном мониторе» обеспечивает контроль системных задач: позволяет отслеживать использование ресурсов, завершать зависшие процессы, предотвращать перегрузку системы и изменять приоритет выполнения без перезагрузки или использования терминала.

На вкладке **«Таблица процессов»** (см. рис. 1) отображается динамическая таблица с перечнем процессов, выполняющихся в системе. Обновление данных происходит автоматически каждые 2 секунды, но принудительно вызывается клавишей F5. Каждая строка соответствует одному процессу, каждый столбец – его свойству. Панель управления расположена над таблицей.

При наведении курсора на заголовок столбца отображается всплывающая подсказка с описанием соответствующего свойства. 

Нажатие левой кнопкой мыши по заголовку столбца сортирует таблицу по значениям столбца по возрастанию. Повторный щелчок меняет направление сортировки на убывание.

Щелчком правой кнопкой мыши по заголовку открывает контекстное меню, в котором можно:
- Настроить отображение информации в столбце;
- Добавить или удалить дополнительные столбцы;
- Включить или отключить всплывающие подсказки.

Столбцы таблицы процессов, отображаемые по умолчанию после запуска программы, приведены в таблице 1.

Таблица 1
|Название процесса|Описание процесса |
| :---: | :---: |
| Имя процесса | Имя исполняемого файла|
| Имя пользователя | Владелец процесса |
| %ЦП | Текущая нагрузка на процессор (в расчёте на одно ядро)|
| Память |  Объем физической памяти, используемой процессом (без учета подкачки и общих библиотек)|
| Разделяемая память | Приблизительный объем памяти общих библиотек|
| Заголовок | Заголовок окна процесса |

Дополнительные столбцы таблицы процессов (добавляются через контекстное меню, вызываемое правой кнопкой мыши) приведены в таблице 2

Таблица 2
|Название процесса|Описание процесса |
| :---: | :---: |
|PID | Идентификатор процесса|
|TTY | Терминал, связанный с процессом|
| Приоритет | Значение приоритета выполнения (от 19 (минимальный), до -20 (максимальный)|
| Время ЦП | Общее время работы (мин:сек)|
| Чтение | Количество прочитанных байт|
| Запись | Количество записанных байт|
| Виртуальная память | Общий объем виртуальной памяти, включая библиотеки, графическую память и файлы на диске|
| Команда запуска | Команда, с помощью которой был запущен процесс|
| Относительное время запуска |Время, прошедшее с момента запуска процесса|

Элементы панели управления вверху таблицы:
- Завершить процесс – открывает диалог подтверждения завершения процесса. После подтверждения отправляется команда SIGKILL (несохраненные данные могут быть утрачены)
- Строка поиска – обеспечивает быстрый поиск по строкам таблицы;
- Все процессы —  содержит фильтры отображения:
  - Все процессы;
  - Все процессы в виде дерева;
  - Системные процессы;
  - Пользовательские процессы;
  - Ваши процессы;
  - Только программы.
 
Щелчок любой кнопкой мыши по строке выделяет процесс. Щелчок правой кнопкой мыши открывает контекстное меню:
- Изменить приоритет процесса… - открывает диалог для изменения приоритета выполнения;
- Отправить сигнал – содержит меню с выбором сигнала:
  - STOP – приостановить;
  - CONT – возобновить;
  - HUP – перечитать конфигурацию;
  - INT – прервать;
  - TERM – завершить;
  - KILL – уничтожить;
  - USR 1 – пользовательский сигнал №1;
  - USR 2 – пользовательский сигнал №2.
- Перейти к родительскому процессу – устанавливает фокус на строку родительского процесса;
- Завершить процесс - выполняет те же действия, что и кнопка «Завершить процесс» на верхней панели;
- Подробная информация - открывает общие сведения о процессе, включающая в себя таблицу распределения памяти и откртые файлы (рис.4).

Рис.4

## Настройка мониторинга системы

### Создание пользовательских вкладок

«Системный монитор» позволяет создавать собственные вкладки с графиками и сводками, используя так называемые «датчики». Датчики – это встроенные измерители внутри компьютера (температуры, напряжения и других параметров).

Для создания вкладки с персональными параметрами необходимо перейти: `"Файл → Новая вкладка"`. Указать имя, задать количество строк и столбцов и установить интервал обновления (по умолчанию 2 секунды).
В левой части открывшейся вкладки находятся поля **«Перетащите датчик сюда»** для графиков данных. В правой части находится древовидный список датчиков данных, а над ней строка поиска по данной структуре (рис.2).

![Рис. 2](https://github.com/edemaruh1703-sys/first-project/blob/main/Screenshot_4.png?raw=true)
<div align="Center">Рис. 2</div>

### Добавление датчиков и типы графиков

Для добавления датчиков на мониторинг необходимо найти датчик в древовидном списке или через поиск, зажать его левой или правой кнопкой мыши, перетащить его на любую ячейку и освободить кнопку мыши. Откроется окно с выбором типа графика:
- Линия – линейный график;
- Число – цифровой индикатор;
- Столбцы – столбчатая диаграмма;
- Записать в журнал – запись в файл показаний мониторинга.

Таким образом можно вывести на отображение использование оперативной памяти, загрузку ядер процессора, занимаемый объем физической памяти и другие параметры, в удобном для пользователя виде (рис.3).

![Рис. 3](https://github.com/edemaruh1703-sys/first-project/blob/main/Screenshot_5.png?raw=true)
<div align="Center">Рис. 3</div>

После выбора типа графика и его создания, щелкнув правой кнопкой мыши по графику откроется контекстное меню:
- Свойства – открывает окно программы с настройками отображения;
- Удалить график – удаляет график из ячейки.
 
Доступные свойства по типам графиков приведены в таблице 3.

Таблица 3
| Тип графика   | Вкладки «Свойства»   | Основные настройки  | 
| :---------------: | :----------------------: | :----------------------: |
|   **Линия**          |    Главное<br>Масштаб<br>Сетка<br>Датчики                |  Имя<br>наложение линий<br>Вертик./горизонт. масштаб<br>Линии/текст сетки<br>Цвет/порядок датчиков   |
|   **Число**           |   Общие                  | Название<br>Цвета текста (норма/тревога/фон)<br>Уведомления по пределам               |
|   **Столбцы**         |    Диапазон<br>Уведомления<br>Внешний вид<br>Датчики               |  Мин/макс значения<br>Пороги тревоги<br>Цвета/шрифт<br>Названия датчиков     |
|   **Записать в журнал** |   Настройка журнала датчика    |    Название<br>Цвета текста (норма/тревога/фон)    |


Графики типов **«Линия»**, **«Столбцы»** и **«Записать в журнал»** имеют возможность добавления неограниченного количества датчиков. График типа **«Число»** поддерживает лишь один датчик.

### Сохранение и удаление данных

`"Файл → Сохранить вкладку как…"` сохраняет пользовательскую вкладку в выбранном месте в формате `.sgrd`. 

`"Файл → Закрыть вкладку"` закрывает активную пользовательскую вкладку.

## Горячие клавиши

Клавиша **F1** - вызывает справочную информацию.

Клавиша **F5** - принудительное обновление окон программы.













